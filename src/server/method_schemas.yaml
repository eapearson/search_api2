---
# JSON Schema definitions for every RPC method in this service

# Display public configuration details for the services
show_config:
  params: {}
  result: {}

# Get a list of index and alias names in elasticsearch
show_indexes:
  params: {}
  result:
    type: array
    items:
      type: object
      required: [name, count]
      additionalProperties: false
      properties:
        name:
          title: Index name
          type: string
        count:
          title: Document count
          type: integer

# Generic search of all objects under an index or alias
search_objects:
  params:
    type: object
    required: []
    properties:
      query:
        type: object
        description: Query options
      source:
        type: array
        description: Which fields to return in the results
      indexes:
        type: array
        items:
          type: string
        description: An array of index/alias names you want to search
      only_public:
        type: boolean
        description: Only return public documents. No auth needed.
      only_private:
        type: boolean
        description: Only return private documents and no public. Auth required.
      size:
        type: integer
        title: Page Size
        description: Number of results to return
        default: 10
      from:
        type: integer
        title: Offset
        description: How many records to skip in the results for pagination.
        default: 0
      count:
        type: integer
        description: Just count the results without returning the documents.
      aggs:
        type: object
        title: Aggregations
      highlight:
        type: object
        description: Result highlight options
      sort:
        type: array
        description: Sorting options for result. An array of property names.
        items:
          anyOf:
            - type: string
            - type: object
              patternProperties:
                ".*":
                  type: object
                  properties:
                    order:
                      type: string
                      enum: [desc, asc]
    result:
      type: object
      # TODO
